<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('Compras')}"></head>
<body>

<div class="nav">
    <a href="/cliente" class="btn secondary">Volver</a>
</div>

<div class="container">
    <h2>Mis cotizaciones</h2>

    <table class="table" id="tablaCompras">
        <thead>
        <tr><th>ID</th><th>Total</th><th>Estado</th></tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<script>
    fetch('/api/cotizaciones')
       .then(r => r.json())
       .then(list => {
           const tbody = tablaCompras.querySelector("tbody");

           list.forEach(c => {
              const tr = document.createElement('tr');
              tr.innerHTML = `
                <td>${c.id}</td>
                <td>$${c.total}</td>
                <td>${c.confirmada ? 'Confirmada' : 'No confirmada'}</td>
              `;
              tbody.appendChild(tr);
           });
       });
</script>

</body>
</html>
